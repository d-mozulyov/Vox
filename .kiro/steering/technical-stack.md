## Технический стек и инфраструктура

### Язык программирования

**Go** — основной язык разработки проекта Vox.

### Целевые платформы

Проект поддерживает кроссплатформенную компиляцию на 6 целевых платформ:

- **Windows** (x64, arm64) — статические бинарники (CGO_ENABLED=0)
- **Linux** (x64, arm64) — динамическая линковка с ALSA (CGO_ENABLED=1)
- **macOS** (x64, arm64) — статические бинарники (CGO_ENABLED=0)

### Среда разработки

- **Основная IDE**: Kiro (VSCode-подобная)
- **Конфигурации**: Директория `.vscode/` должна попадать в репозиторий (не в .gitignore)
- Необходимо создать и поддерживать конфигурации для удобной работы (tasks, launch, settings)

### Система контроля версий

- **Git** + **GitHub**
- Директория `.kiro/` должна попадать в репозиторий (не в .gitignore)
- Все конфигурации IDE и Kiro коммитятся в репозиторий

### CI/CD

**GitHub Actions** — встроенные возможности GitHub для автоматизации:

- Сборка на Linux-серверах GitHub
- Кроссплатформенная компиляция для всех 6 целевых платформ
- Публикация артефактов через GitHub Releases
- Создание установщиков (если возможно из GitHub Actions)

**Docker Builder Image**:

- Docker-образ для сборки (`ghcr.io/d-mozulyov/vox-builder:latest`) собирается и публикуется **ТОЛЬКО ВРУЧНУЮ**
- При изменении `docker/builder/Dockerfile` агент должен выдать инструкцию по пересборке и публикации образа
- НЕ создавать автоматизированные workflows для сборки Docker-образа
- Инструкции по сборке находятся в `docker/builder/README.md`

### Зависимости и библиотеки

При выборе зависимостей учитывать:

- Кроссплатформенность
- Активность поддержки
- Размер и производительность
- Лицензионную совместимость с MIT
- **Предпочтение pure Go библиотекам** (где возможно)

**Текущие зависимости:**
- `github.com/ebitengine/oto/v3` — аудио (pure Go на Windows/macOS, CGO на Linux)
- `golang.design/x/hotkey` — горячие клавиши
- `github.com/getlantern/systray` — системный трей

**Примечание:** На Linux требуется CGO для работы с аудио (ALSA). Это стандартная практика, так как Linux не предоставляет прямых syscall для аудио.

### Сборка и релизы

- **Windows/macOS**: статические бинарники (CGO_ENABLED=0)
- **Linux**: динамическая линковка с ALSA (CGO_ENABLED=1)
- Сборка выполняется через Makefile для единообразия
- Артефакты для всех платформ публикуются через GitHub Releases
- Желательно создание установщиков для упрощения установки пользователями
- Версионирование согласно Semantic Versioning (semver)
